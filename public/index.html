<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>업비트 코인 트레이딩 모니터링</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="container">
      <header class="mb-4">
        <h1 class="text-center">업비트 모의 트레이딩 대시보드</h1>
        <div class="connection-status">
          <span id="connectionStatus" class="online">서버 연결됨</span>
        </div>
      </header>

      <nav class="main-nav">
        <ul>
          <li>
            <a href="#dashboard" class="nav-link active" data-tab="dashboard"
              >대시보드</a
            >
          </li>
          <li>
            <a href="#markets" class="nav-link" data-tab="markets">마켓</a>
          </li>
          <li>
            <a href="#orders" class="nav-link" data-tab="orders">주문 관리</a>
          </li>
        </ul>
      </nav>

      <div id="loading" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">데이터 로딩 중...</div>
      </div>

      <!-- 대시보드 탭 -->
      <div id="dashboard" class="tab-content" style="display: block">
        <div class="dashboard-layout">
          <!-- 사이드바 - 실시간 시세 정보 -->
          <div class="sidebar">
            <div class="card">
              <h2>실시간 시세 정보</h2>
              <div class="card-body">
                <div class="search-box mb-2">
                  <input
                    type="text"
                    id="marketSearch"
                    class="form-control"
                    placeholder="마켓 검색..."
                  />
                </div>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>마켓</th>
                        <th>현재가</th>
                        <th>변동률</th>
                      </tr>
                    </thead>
                    <tbody id="tickerList">
                      <tr>
                        <td colspan="3" class="text-center">
                          데이터 로딩 중...
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 메인 컨텐츠 -->
          <div class="main-content">
            <!-- 계좌 요약 영역 -->
            <div class="card account-summary">
              <h2>계좌 요약</h2>
              <div class="card-body">
                <div id="accountSummary">
                  <p>데이터 로딩 중...</p>
                </div>
                <div class="chart-container">
                  <canvas id="balanceChart"></canvas>
                </div>
              </div>
            </div>

            <!-- 수익률 및 주문 내역 -->
            <div class="card">
              <h2>투자 현황</h2>
              <div class="card-body">
                <div class="profit-data">
                  <!-- 수익률 정보 -->
                  <div class="profit-info">
                    <h3>수익률 정보</h3>
                    <div id="profitInfo">
                      <p>데이터 로딩 중...</p>
                    </div>
                  </div>

                  <!-- 최근 주문 내역 -->
                  <div class="recent-orders">
                    <h3>최근 주문 내역</h3>
                    <div class="table-responsive">
                      <table class="table table-sm">
                        <thead>
                          <tr>
                            <th>시간</th>
                            <th>마켓</th>
                            <th>타입</th>
                            <th>가격</th>
                          </tr>
                        </thead>
                        <tbody id="orderList">
                          <tr>
                            <td colspan="4" class="text-center">
                              데이터 로딩 중...
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- 주문 차트 -->
                <div class="chart-container mt-3">
                  <canvas id="ordersChart"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 마켓 탭 -->
      <div id="markets" class="tab-content" style="display: none">
        <div class="markets-container dashboard-layout">
          <!-- 사이드바 - 마켓 목록 -->
          <div class="sidebar">
            <div class="card">
              <h2>마켓 목록</h2>
              <div class="card-body">
                <div class="search-box mb-2">
                  <input
                    type="text"
                    id="marketDetailSearch"
                    class="form-control"
                    placeholder="마켓 검색..."
                  />
                </div>
                <div id="marketList" class="market-list">
                  <!-- 마켓 목록 -->
                </div>
              </div>
            </div>
          </div>

          <!-- 마켓 상세 정보 -->
          <div class="main-content">
            <div class="card">
              <h2>마켓 상세 정보</h2>
              <div class="card-body">
                <div id="marketDetail" class="market-detail">
                  <!-- 선택된 마켓 상세 정보 -->
                  <div class="placeholder-message">
                    왼쪽에서 마켓을 선택하세요
                  </div>
                </div>

                <div class="price-chart-container">
                  <h3>가격 차트</h3>
                  <div class="chart-container">
                    <canvas id="priceChart"></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 주문 관리 탭 -->
      <div id="orders" class="tab-content" style="display: none">
        <div class="orders-header">
          <h2>주문 관리</h2>
          <div class="order-filter">
            <div class="order-tabs">
              <a href="#" class="order-tab active" data-type="open"
                >미체결 주문</a
              >
              <a href="#" class="order-tab" data-type="closed">체결된 주문</a>
            </div>
          </div>
        </div>

        <div id="ordersLoading" class="loading-indicator" style="display: none">
          <div class="loading-spinner"></div>
        </div>

        <div class="orders-table-container">
          <table class="table orders-table">
            <thead>
              <tr>
                <th>마켓</th>
                <th>주문유형</th>
                <th>가격</th>
                <th>수량</th>
                <th>생성시간</th>
                <th>상태</th>
                <th>잠금액</th>
              </tr>
            </thead>
            <tbody id="ordersTableBody">
              <!-- 주문 데이터 -->
            </tbody>
          </table>
        </div>

        <div class="pagination" id="ordersPagination">
          <button class="pagination-button" data-action="prev" disabled>
            이전
          </button>
          <span id="currentPage">페이지 1</span>
          <button class="pagination-button" data-action="next">다음</button>
        </div>
      </div>
    </div>

    <!-- 스크립트 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
